{
  "version": 4,
  "terraform_version": "1.8.2",
  "serial": 69,
  "lineage": "d91a53d6-1f7d-c3a0-4174-0e4327295270",
  "outputs": {
    "arn_certificate": {
      "value": "arn:aws:acm:us-east-2:208175716674:certificate/de06713d-24a5-40d3-8725-cdb2e62cd755",
      "type": "string"
    },
    "domain_name": {
      "value": "seuncaleb.co.uk",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "208175716674",
            "arn": "arn:aws:iam::208175716674:user/seuncaleb",
            "id": "208175716674",
            "user_id": "AIDATA6B5LFBHDDPBPFZD"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "selected",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:route53:::hostedzone/Z0378865U1T45D01WFTU",
            "caller_reference": "b5f1e657-22a8-4890-8c4a-2bfe4ac8352c",
            "comment": "",
            "id": "Z0378865U1T45D01WFTU",
            "linked_service_description": null,
            "linked_service_principal": null,
            "name": "seuncaleb.co.uk",
            "name_servers": [
              "ns-1956.awsdns-52.co.uk",
              "ns-1220.awsdns-24.org",
              "ns-939.awsdns-53.net",
              "ns-350.awsdns-43.com"
            ],
            "primary_name_server": "ns-1956.awsdns-52.co.uk",
            "private_zone": false,
            "resource_record_set_count": 2,
            "tags": {},
            "vpc_id": null,
            "zone_id": "Z0378865U1T45D01WFTU"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_acm_certificate",
      "name": "acm_certificate",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:acm:us-east-2:208175716674:certificate/de06713d-24a5-40d3-8725-cdb2e62cd755",
            "certificate_authority_arn": "",
            "certificate_body": null,
            "certificate_chain": null,
            "domain_name": "seuncaleb.co.uk",
            "domain_validation_options": [
              {
                "domain_name": "seuncaleb.co.uk",
                "resource_record_name": "_07d884ff034cdf8b26705652ea8f783b.seuncaleb.co.uk.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_38b4bd2dcc38a5f66e1ac4f0d32319d8.sdgjtdhdhz.acm-validations.aws."
              }
            ],
            "early_renewal_duration": "",
            "id": "arn:aws:acm:us-east-2:208175716674:certificate/de06713d-24a5-40d3-8725-cdb2e62cd755",
            "key_algorithm": "RSA_2048",
            "not_after": "",
            "not_before": "",
            "options": [
              {
                "certificate_transparency_logging_preference": "ENABLED"
              }
            ],
            "pending_renewal": false,
            "private_key": null,
            "renewal_eligibility": "INELIGIBLE",
            "renewal_summary": [],
            "status": "PENDING_VALIDATION",
            "subject_alternative_names": [
              "seuncaleb.co.uk"
            ],
            "tags": null,
            "tags_all": {},
            "type": "AMAZON_ISSUED",
            "validation_emails": [],
            "validation_method": "DNS",
            "validation_option": []
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "private_key"
              }
            ]
          ],
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_apigatewayv2_api",
      "name": "example",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_endpoint": "https://3qr92q6a9i.execute-api.us-east-2.amazonaws.com",
            "api_key_selection_expression": "$request.header.x-api-key",
            "arn": "arn:aws:apigateway:us-east-2::/apis/3qr92q6a9i",
            "body": null,
            "cors_configuration": [],
            "credentials_arn": null,
            "description": "",
            "disable_execute_api_endpoint": false,
            "execution_arn": "arn:aws:execute-api:us-east-2:208175716674:3qr92q6a9i",
            "fail_on_warnings": null,
            "id": "3qr92q6a9i",
            "name": "seuncaleb.co.uk",
            "protocol_type": "HTTP",
            "route_key": null,
            "route_selection_expression": "$request.method $request.path",
            "tags": null,
            "tags_all": {},
            "target": null,
            "version": ""
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_apigatewayv2_stage",
      "name": "example",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_log_settings": [],
            "api_id": "3qr92q6a9i",
            "arn": "arn:aws:apigateway:us-east-2::/apis/3qr92q6a9i/stages/example-stage",
            "auto_deploy": false,
            "client_certificate_id": "",
            "default_route_settings": [
              {
                "data_trace_enabled": false,
                "detailed_metrics_enabled": false,
                "logging_level": "",
                "throttling_burst_limit": 0,
                "throttling_rate_limit": 0
              }
            ],
            "deployment_id": "",
            "description": "",
            "execution_arn": "arn:aws:execute-api:us-east-2:208175716674:3qr92q6a9i/example-stage",
            "id": "example-stage",
            "invoke_url": "https://3qr92q6a9i.execute-api.us-east-2.amazonaws.com/example-stage",
            "name": "example-stage",
            "route_settings": [],
            "stage_variables": null,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_apigatewayv2_api.example"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudfront_origin_access_identity",
      "name": "origin_access_identity",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "terraform-20240628205031702700000001",
            "cloudfront_access_identity_path": "origin-access-identity/cloudfront/E3JYRUKWK1R7JR",
            "comment": "Access identity for S3 bucket",
            "etag": "E2N2FM66VRU65M",
            "iam_arn": "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3JYRUKWK1R7JR",
            "id": "E3JYRUKWK1R7JR",
            "s3_canonical_user_id": "df2d480ecd514b93e42b6d02a0cfe6fe907e60259e73ec598dca9649a2dddb2f1262e791fde30498ec0d9aa4005cf725"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.cdn",
      "mode": "data",
      "type": "aws_cloudfront_cache_policy",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.cdn",
      "mode": "data",
      "type": "aws_cloudfront_origin_request_policy",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.cdn",
      "mode": "data",
      "type": "aws_cloudfront_response_headers_policy",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.cdn",
      "mode": "managed",
      "type": "aws_cloudfront_origin_access_control",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.cdn",
      "mode": "managed",
      "type": "aws_cloudfront_origin_access_identity",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "s3_bucket_one",
          "schema_version": 0,
          "attributes": {
            "caller_reference": "terraform-20240628205031702900000002",
            "cloudfront_access_identity_path": "origin-access-identity/cloudfront/E2DP5JREACQ9YE",
            "comment": "My awesome CloudFront can access",
            "etag": "E1S2PVGBCY5EPV",
            "iam_arn": "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2DP5JREACQ9YE",
            "id": "E2DP5JREACQ9YE",
            "s3_canonical_user_id": "d41ee2c84d17f82a919d4b9f84f246b9326cf609f30d604126bac0b32a05c2cd00c0b32bf21369de1696b72a59a6a9e6"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.iam_assumable_role",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "208175716674",
            "arn": "arn:aws:iam::208175716674:user/seuncaleb",
            "id": "208175716674",
            "user_id": "AIDATA6B5LFBHDDPBPFZD"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.iam_assumable_role",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "assume_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "3082257915",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sts:TagSession\",\n        \"sts:AssumeRole\"\n      ],\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3JYRUKWK1R7JR\",\n        \"Service\": []\n      }\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"sts:TagSession\",\"sts:AssumeRole\"],\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3JYRUKWK1R7JR\",\"Service\":[]}}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole",
                  "sts:TagSession"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3JYRUKWK1R7JR"
                    ],
                    "type": "AWS"
                  },
                  {
                    "identifiers": [],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.iam_assumable_role",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "assume_role_with_mfa",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.iam_assumable_role",
      "mode": "data",
      "type": "aws_partition",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_suffix": "amazonaws.com",
            "id": "aws",
            "partition": "aws",
            "reverse_dns_prefix": "com.amazonaws"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.iam_assumable_role",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::208175716674:role/cloudfront-s3-access-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":[\"sts:TagSession\",\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3JYRUKWK1R7JR\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-06-28T20:50:43Z",
            "description": "",
            "force_detach_policies": false,
            "id": "cloudfront-s3-access-role",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "cloudfront-s3-access-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": null,
            "tags_all": {},
            "unique_id": "AROATA6B5LFBKKX6NWDWI"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudfront_origin_access_identity.origin_access_identity",
            "module.iam_assumable_role.data.aws_caller_identity.current",
            "module.iam_assumable_role.data.aws_iam_policy_document.assume_role",
            "module.iam_assumable_role.data.aws_iam_policy_document.assume_role_with_mfa",
            "module.iam_assumable_role.data.aws_partition.current"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
